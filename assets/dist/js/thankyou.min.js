jQuery((function(e){"use strict";window.wc_reepay_thankyou={xhr:!1,attempts:0,init:function(){this.checkPayment((function(a,o){var n=e("#order-status-checking"),t=e("#order-success"),c=e("#order-failed");switch(o.state){case"paid":n.hide(),t.show();break;case"reload":e(".woocommerce-order").block({message:WC_Reepay_Thankyou.check_message,overlayCSS:{background:"#fff",opacity:.6}}),setTimeout((function(){location.reload()}),2e3);break;case"failed":case"aborted":n.hide(),c.append('<p class="transaction-error">'+o.message+"</p>"),c.show();break;default:if(window.wc_reepay_thankyou.attempts++,window.wc_reepay_thankyou.attempts>6)return;setTimeout((function(){window.wc_reepay_thankyou.init()}),1e4)}}))},checkPayment:function(a){return e(".woocommerce-order").block({message:WC_Reepay_Thankyou.check_message,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",url:WC_Reepay_Thankyou.ajax_url,data:{action:"reepay_check_payment",nonce:WC_Reepay_Thankyou.nonce,order_id:WC_Reepay_Thankyou.order_id,order_key:WC_Reepay_Thankyou.order_key},dataType:"json"}).always((function(){e(".woocommerce-order").unblock()})).done((function(e){a(null,e.data)}))}},e(document).ready((function(){window.wc_reepay_thankyou.init()}))}));